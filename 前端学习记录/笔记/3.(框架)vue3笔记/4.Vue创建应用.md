# Vue创建应用实例



[TOC]

### 创建应用实例

`vue`中应用的创建是通过`createApp()`来实现的

```
const app=Vue.createApp({
//选项
})
```

### 根组件

`createApp()`中的选项一般用于根组件。

应用被挂载到DOM中，比如挂载到一个id为app的DOM中

```
const Root=({
//选项
});
const app=Vue.createApp()
const vm=app.mount("#app")
```

其中`app.mount`不返回它本身，而是返回根组件`Root`

### 组件property

```
const app=Vue.createApp({
//property
data(){
return{
count:4
}}
})

const vm=app.mount("#app")
console.log(vm.count)
```

除了`data`之外，还有`method`,`props`,`computed`,`inject`和`setup`等。

### 生命周期钩子

每个组件在被创建时都要经过一系列的初始化过程——例如，需要设置数据监听、编译模板、将实例挂载到 DOM 并在数据变化时更新 DOM 等。同时在这个过程中也会运行一些叫做**生命周期钩子**的函数，这给了用户在不同阶段添加自己的代码的机会。

```
Vue.createApp({
data{
return{
count:4
}
},
//钩子
created(){
console.log("count is:"+this.count);
}
})
```

还有不同的钩子函数,例如`mounted`,`updated`和`unmounted`

**不要在property或者回调函数上使用箭头函数**比如 `created: () => console.log(this.a)` 或 `vm.$watch('a', newValue => this.myMethod())`。因为箭头函数并没有 `this`，`this` 会作为变量一直向上级词法作用域查找，直至找到为止，经常导致 `Uncaught TypeError: Cannot read property of undefined` 或 `Uncaught TypeError: this.myMethod is not a function` 之类的错误。
