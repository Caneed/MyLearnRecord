# 数组 API

[TOC]

##### `at()`

语法

```js
arr.at(index);
```

传入的值是数组的索引,索引值可以为负，负数可以从数组最后一个开始倒数

```js
let arr = [1, 2, 3, 4, 5, 6];

// at(index),返回传入索引值的value
console.log(arr.at(1)); //2
console.log(arr.at(-1)); //6
```

##### `concat()`

用于拼接数组,语法:

```js
arr.conact(arr1,arr2,arr3,...)
```

可以拼接多个数组，并且不会改变原数组，它返回的是一个新的数组.

```js
// concat,将数组进行拼接，不改变原数组
let arr1 = [1, 2, 3];
let arr2 = [7, 8, 9];
let arr3 = arr1.concat(arr2);
console.log(arr1, arr2, arr3);
// [1,2,3],[7,8,9],[1,2,3,7,8,9]
```

##### `copyWithIn()`

语法：

```js
arr.copyWithin(target[, start[, end]])
```

它的作用是浅复制数组的一部分到数组的另一部分
**参数说明**
`target`:指的是复制序列到该位置的索引。如果值为负数，依旧从末尾开始算，如果`target`的值大于了数组的长度，则不会发生复制，如果它的值要比`start`小，则复制的序列为整个数组。
`start`:指的是复制序列的开头第一个元素的索引,如果为负数则从末尾开始复制，如果`start`缺省，则直接从 0 号元素开始复制。
`end`：指的是复制序列的最后一个元素的索引，`copyWithIn()`将会拷贝到该位置，但是不包括该位置的元素，如果是负数则从末尾开始，如果缺省，则一直会复制到末尾。

```js
// copyWithIn()
console.log([1, 2, 3, 4, 5].copyWithin(2, 3, 4)); //1,2,4,4,5
```

其中的参数(2,3,4)指的是将 3 号到 4 号元素(不包括 4 号元素)复制到 2 号元素的位置所以输出的是`[1,2,4,4,5]`

#####`entries()`
语法

```js
arr.entries();
```

它返回的是一个新的`Array Iterator`对象,在此对象的原型上有一个`next()`方法，可以遍历它来获取原数组的`key:value`
`Iterator对象`

```js
// entires()
// Iterator对象
let arr = [1, 2, 3, 4, 5];
let iter = arr.entries();
console.log(iter);
//   Array Iterator {}
// [[Prototype]]: Array Iterator
// next: ƒ next()
```

`next()`

````js
//next方法
        console.log(iter.next())
        // {value: Array(2), done: false}
        // done: false
        // value: Array(2)
        // 0: 0
        // 1: 1
        // length: 2
        ```
````

其中`value`中的第一个元素为数组的索引，第二个元素为该索引位置的值，`[0,1]`意思是在 0 号位置上的元素值为 1。`done`指的是是否索引到该数组的末尾，遍历完成之后值会变为`true`

`next()方法来遍历数组`

```js
//用next遍历数组
let arr = [1, 2, 3, 4, 5];
let tem = [];
let iter = arr.entries();
for (let i = 0; i < arr.length + 1; i++) {
  // 长度要比数组的长度要长一个值，因为在done为true时要进行判断
  let behind = iter.next();
  if (behind.done !== true) {
    tem[i] = behind.value;
  }
}
console.log(tem);
//         0: (2) [0, 1]
//         1: (2) [1, 2]
//         2: (2) [2, 3]
//         3: (2) [3, 4]
//         4: (2) [4, 5]
```

这样就得到了以[k,v]形式组成的数组。

##### `every()`

语法

```js
arr.every();
```

`every()`的作用就是判断数组中的元素是否能通过某种测试,返回的是一个布尔值
比如

```js
console.log([1, 2, 3, 4, 5].every((value) => value < 5)); //false
console.log([2, 3, 4, 5, 5].every((value) => value > 1)); //true
```

##### `filter()`

语法

```js
arr.filter();
```

返回的是一个数组，它和`every()`差不多，只是它返回的是通过该测试的函数的浅拷贝

```js
//filter()方法
let filter = [1, 2, 3, 4, 5];
let result = [];
result = filter.filter((value) => value > 2); //返回大于2的数组的集合
console.log(result); //[3,4,5]
```

##### `find()`

语法

```js
arr.find();
```

返回的是通过第一个测试的值，如果没找到则返回`undefined`和`every()`以及`filter()`用法一样

````js
    // find()
    let arr=[1,2,3,4,5]
    console.log(arr.find(value=>value>2))//3
    ```
````

##### `findIndex()`

语法

```js
arr.findIndex();
```

和`find()`一样，它返回的是第一个满足条件的元素的索引，如果没找到则返回-1

```js
// findIndex()
let arr = [2, 3, 4];
console.log(arr.findIndex((value) => value > 2)); //1
```

##### `findLast()`

语法

```js
arr.findLast();
```

返回通过测试的最后一个元素的值,如果没有通过测试的元素则返回`undefined`

```js
let arr = [1, 2, 3, 4, 5];
console.log(arr.findLast((value) => value >= 2)); //5
```

##### `findLastIndex()`

语法

```js
arr.findLastIndex();
```

返回通过测试的最后一个元素的索引，如果没有通过测试的元素则返回-1

```js
let arr = [1, 2, 3, 4, 5];
console.log(arr.findLastIndex((value) => value >= 2)); //4
```

##### `flat()`

语法

```js
arr.flat(number);
```

作用是根据传入的数字来进行深度的扁平化数组
一般的用法

```js
let arr = [1, [2, 3], [4, 5]];
let arr1 = [1, [2, 3, [4, 5]], 4, 5];
console.log(arr.flat()); //[1,2,3,4,5]
console.log(arr1.flat()); //[1,2,3,[4,5],4,5]
console.log(arr1.flat(2)); //[1,2,3,4,5,4,5]
```

**可以在`flat()`中传入 Infinity 来进行无限深度的扁平化**

```js
let collection = [1, [1, [1, [1, [1, [1, [1, []]]]]]]];
console.log(collection.flat(Infinity)); //[1,1,1,1,1,1,1]
```

_扁平化可以去除数组中的空项_

```js
let arr = [1, 2, , 4, 5];
console.log(arr.flat()); //[1,2,4,5]
```

##### `forEach()`

语法

```js
arr.forEach(callback(currentValue [, index [, array]])[, thisArg])
```

给每个元素执行一次指定的回调函数
`callback`:执行的回调函数
`currentValue`:正在处理的元素
`index`:(可选)正在处理的数组索引
`array`:(可选)正在操作的数组
`thisArg`:(可选)执行回调函数时 this 的值

````js
    // forEach()
    [1,2,,4].forEach((el,index,arr)=>{
      console.log('a['+index+']:'+el)
    })
    // a[0]:1
    // a[1]:2
    // a[3]:4
    ```
````
数组中的空项会被`forEach()`忽略

##### `from()`
语法
```js
Array.from(arrayLike[, mapFn[, thisArg]])
```
`arrayLike`
想要转换成数组的伪数组对象或可迭代对象。

`mapFn` 可选
如果指定了该参数，新数组中的每个元素会执行该回调函数。

`thisArg` 可选
可选参数，执行回调函数 mapFn 时 this 对象。

返回值是一个新的数组实例
