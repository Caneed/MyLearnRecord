# canvas变形



[TOC]

### 状态保存和恢复

在变形之前，两个很重要的方法

`save()`保存当前canvas画布的状态

`restore()`恢复到之前保存过的状态

Canvas 状态存储在栈中，每当`save()`方法被调用后，当前的状态就被推送到栈中保存。可以调用任意多次 `save`方法。每一次调用 `restore` 方法，上一个保存的状态就从栈中弹出，所有设定都恢复。

```
 //创建一个新的路径
  con.beginPath()
  con.fillStyle='#f00'
  //画一个高宽为200的矩形，并在画布中间呈现
  con.fillRect(300,150,200,200)
  con.fill()
  con.save()//保存当前状态,默认状态

```

### translating

语法

```
con.translate(dx,dy)
```

`dx`指横坐标偏移量，`dy`指的是纵坐标的偏移量

```
 //加载上一次的状态
  con.restore()
  //在上一次状态中改变了位置和颜色
  con.fillStyle='#0f0'
  con.translate(100,-100)//向右移动100.向上移动100
  con.fillRect(300,150,200,200)
```

### rotate方法

`rotate()`表示旋转，默认旋转的圆心为圆点，如果要改变圆点，需要借助`translate()`

```
 con.restore()
  con.rotate((Math.PI*2)/9)//旋转60度
  con.fillRect(300,150,200,200)
```

