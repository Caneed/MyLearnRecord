# Promise的进阶



[TOC]

### 如何改变Promise对象的状态

可以通过`resolve(),reject()`函数，这是比较常见的两种改变promise对象状态的方法

```
    // 第一种,调用resolve函数
    resolve('ok')//pending->fulfilled
    // 第二种,调用rejected函数
    reject('err')//pending->rejected
```

还有第三种，可以抛出一个错误`throw err`

```
    // 第三种,抛出错误
    throw 'err'
```

### promise指定多个回调的情况

当promise指定多个回调函数时，只要是对应它改变状态的回调函数都会被执行

```
  // promise指定多个成功或者失败的回调函数
  let p=new Promise((resolve,reject)=>{
    resolve('ok')
  })
  // 指定回调
  p.then(value=>{
    console.log(value)
  })
  p.then(value=>{
    console.log(value)
  })
  // ok ok
```

如果指定的回调没有对应状态时就不会被执行

```
  p.then(value=>{
  },reason=>{
    console.log(reason)//不会输出
  })
```

