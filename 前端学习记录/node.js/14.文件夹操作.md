# node.js 操作文件夹

[TOC]

### 文件操作

##### 检查文件夹是否存在或者是否有访问权限

语法

```js
fs.access(folderPath, callback);
```

```js
fs.access("./files", (err) => {
  if (err) {
    console.log("不存在/无读取权限");
    return;
  }
  console.log("读取成功");
});

fs.access("./file", (err) => {
  if (err) {
    console.log("不存在/无读取权限");
    return;
  }
  console.log("读取成功");
});
```

##### 创建新的文件夹

使用`fs.mkdir()`或者`fs.mkdirSync()`创建新的文件夹
用法

```js
fs.mkdir(folderPath, callback);
try {
  fs.mkdirSync(folderPath);
} catch (e) {
  // doSth
}
```

```js
fs.mkdir("./mkFolder", (err) => {
  if (err) {
    console.log("创建失败");
    return;
  }
  console.log("创建成功");
});

try {
  fs.mkdirSync("./mkFolderSync");
} catch (e) {
  console.log(e);
}
```

##### 读取文件夹内容

使用`fs.readdir()`或者`fs.readdirSync()`来读取文件夹内容
语法

```js
fs.readdir(folderPath, callback);
try {
  fs.readdirSync(folderPath);
} catch (e) {
  // doSth
}
```

```js
fs.readdir("../pratice", (err, data) => {
  if (err) {
    console.log(err);
    return;
  }
  console.log(data);
});
//[
//   'consleLog.js',   'EventEmitter.js',
//   'eventLoop.html', 'express.js',
//   'filePath.js',    'fileRead.js',
//   'files',          'fileWrite.js',
//   'folder.js',      'hello.js',
//   'mkFolder',       'mkFolderSync',
//   'NodeHttp.js',    'package-lock.json',
//   'server.js'
// ]

try {
  fs.readdirSync("../pratice").map((fileName) => console.log(fileName));
} catch (e) {
  console.log(e);
}
```
由于这两个方法返回的都是数组类型，所以可以在后面使用`map`进行连调，将文件名输出或者进行其它的操作