# 设计模式

[TOC]

### 设计模式

项目实现的本质就是设计不同的模块，每个模块负责自身所需要去实现的功能。
而设计模式则是帮助我们更好地去设计模块的功能并且更好地去组织模块之间的沟通。

##### 设计模式的作用

**帮助我们组织模块**
通过一些设计模式，组织模块间的组成结构
**帮助我们设计沟通**
有的设计模式可以帮助我们设计模块间如何沟通
**提高代码质量**
通过设计模式，让代码更加优雅

##### 设计原则

**1.开闭原则**
开闭原则指的是对扩展开放，对修改关闭。指的是程序在扩展功能的时候要给出扩展的接口，但是在具体使用的时候不能去修改源码。

**2.单一职责原则**
模块只负责一个功能，模块的功能越单一越好。

**3.依赖倒置原则**
项目的上层模块不能依赖具体的下层的模块，要去依赖抽象层。

**4.接口隔离原则**
接口设计尽量细化，功能单一。

**5.迪米特法则**
当两个对象进行沟通时，它们之间知道的越少越好，中介者设计模式就设计了一个中介，两个对象通过一个中介进行沟通。

**6.里氏替换原则**
此原则主要关注于继承，意思是任何使用到父类的地方都可以用子类去替换。

### 设计模式的分类

1. 创建型`帮助我们更好地创建对象`
2. 结构型`帮助我们更好地整理代码结构`
3. 行为型`帮助我们更好地设计模块和功能`
4. 技巧型`优化代码的技巧`

##### 创建型

1. 工厂模式-大量创建对象

2. 单例模式-全局只能有我一个

3. 建造者模式-精细化组合对象

4. 原型模式-javaScript 的灵魂

##### 结构型

1. 外观模式-给你的一个套餐

2. 适配器模式-用适配代替更改

3. 装饰者模式-更优雅地扩展需求

4. 享元模式-共享来减少数量

5. 桥接模式-独立出来，然后再对接过去

##### 行为型

1. 观察者模式-我作为第三方转发

2. 状态模式-用状态代替判断

3. 策略模式-算法工厂

4. 职责链模式-像生产线一样组织模块

5. 命令模式-用命令去解耦

6. 迭代器模式-告别 for 循环

##### 技巧模式

1. 链模式-链式调用

2. 委托模式-让别人代替你收快递

3. 数据访问模式-一个方便的数据管理器

4. 惰性模式-我要搞机器学习（第一次执行完后把状态记录下来）

5. 等待者模式-等你们都回来再吃饭

### 封装与对象

**封装的目的**

- 封装可以使外部无法访问到内部的变量，防止变量的污染。
- 封装使接口更加独立，遵循开闭原则。
- 封装可以使接口作为一个模块调用。
  **好的封装所具有的特性**
- 变量外部不可见
- 遵循开闭原则
- 留出扩展的接口

##### 适用于封装的设计模式

**工厂模式**
目的：方便创建多个对象
应用的场景：当某一个对象需要被多次创建的时候
**建造者模式**
目的：需要组合出一个全局对象
应用场景：当要创建单个、庞大的组合对象时
**单例模式**
目的：需要确保全局只有一个对象
应用场景：为了避免重复新建，避免多个对象存在相互干扰

### 提高复用性的设计模式
**好的复用具有的属性：**对象可以复用，不用修改；重复的代码少；模块的功能越单一越好

##### 减少代码数量，高效复用代码
**桥接模式**
目的：通过桥接来代替耦合
应用场景：减少模块间的耦合
**享元模式**
目的：减少代码数量/对象数量
应用场景：代码中出现了大量类似的代码或者对象

##### 高可复用性的代码
****
目的：
应用场景：