# 起步



[TOC]

### Three.js创建步骤

##### 引入CDN

```
  <script src="../lib/three.js"></script>
```

### 创建场景

和canvas类似，Three.js也是要先创建一个“画布”来进行后续的创作，不过

Three.js是创建一个三维的场景来进行渲染

```
 /**
     * 创建场景对象Scene
     */
    var scene = new THREE.Scene();
    /**
```

### 网格模型

网格模型也就是将几何体对象通过添加材质等

##### 几何体创建

```
 var geometry = new THREE.SphereGeometry(60, 40, 40); //创建一个球体几何对象
    var geometry = new THREE.BoxGeometry(100, 100, 100); //创建一个立方体几何对象Geometry
```

` var geometry = new THREE.BoxGeometry(100, 100, 100); `表示通过构造函数`THREE.BoxGeometry()`创建一个长宽高都为100的立方体。

##### 材质对象

```
 var material = new THREE.MeshLambertMaterial({
      color: 0x0000ff
    }); //材质对象Material
```

材质对象通过构造函数`THREE.MeshLambertMaterial()`创建，其中可以设置各种属性。

##### 创建网格对象并将对象添加到场景中

```
    var mesh = new THREE.Mesh(geometry, material); //网格模型对象Mesh
    scene.add(mesh); //网格模型添加到场景中
```

第一行代码将网格模型`geometry`和材质对象`material`传入网格对象构造函数`THREE.Mesh(arg1,arg2)`中，然后在第二行将创建好的网格对象添加到场景中，类似于`canvas`中的`stroke()`

### 场景设置

##### 点光源

点光源指的是在场景中的光源从哪里照射以及光源强度

```
  /**
     * 光源设置
     */
    //点光源
    var point = new THREE.PointLight(0xffffff);
    point.position.set(100, 100, 100); //点光源位置
    scene.add(point); //点光源添加到场景中
```

`THREE.PointLight()`构造函数用来创建光源，里面传入的参数是光源的强度，然后用`position.set(x,y,z)`来控制点光源照射的位置，`x,y,z`都为0时表示几何体的中心，也是整个场景的中心

##### 环境光

```
 //环境光
    var ambient = new THREE.AmbientLight(0x333333);
    scene.add(ambient);
```

环境光主要起到模拟周围环境的作用，表示阴影或者光影

##### 照相机

```
/**
     * 相机设置
     */
    var width = window.innerWidth; //窗口宽度
    var height = window.innerHeight; //窗口高度
    var k = width / height; //窗口宽高比
    var s = 200; //三维场景显示范围控制系数，系数越大，显示的范围越大
    //创建相机对象
    var camera = new THREE.OrthographicCamera(-s * k, s * k, s, -s, 1, 1000);
    camera.position.set(200, 300, 200); //设置相机位置
    camera.lookAt(scene.position); //设置相机方向(指向的场景对象)
```

##### 渲染器

```
/**
     * 创建渲染器对象
     */
    var renderer = new THREE.WebGLRenderer();
    renderer.setSize(width, height);//设置渲染区域尺寸
    renderer.setClearColor(0xb9d3ff, 1); //设置背景颜色
    document.body.appendChild(renderer.domElement); //body元素中插入canvas对象
    //执行渲染操作   指定场景、相机作为参数
    renderer.render(scene, camera);
```

### 整个渲染流程

1. 创建虚拟的物体
2. 创建虚拟的照相机
3. 进行渲染
4. 完成